[合集 - manim(100)](https://github.com)

[1.manim边学边做--三维图形的场景类03-16](https://github.com/wang_yb/p/18774585)[2.【manim动画教程】-- 安装2023-03-28](https://github.com/wang_yb/p/17264724.html)[3.【manim动画教程】-- 基本图形2023-03-29](https://github.com/wang_yb/p/17269340.html)[4.【manim动画教程】-- 坐标系2023-04-10](https://github.com/wang_yb/p/17301528.html)[5.【manim动画教程】-- 文本样式2023-04-07](https://github.com/wang_yb/p/17294918.html)[6.【manim动画教程】-- 文字和公式2023-04-04](https://github.com/wang_yb/p/17285467.html)[7.【manim动画教程】-- 图形样式2023-03-31](https://github.com/wang_yb/p/17275154.html)[8.【manim动画教程】--相机2023-04-19](https://github.com/wang_yb/p/17334029.html)[9.【manim动画教程】--高级动画效果2023-04-14](https://github.com/wang_yb/p/17317576.html)[10.【manim动画教程】--常用动画效果2023-04-12](https://github.com/wang_yb/p/17309865.html)[11.【manim】之滚动字幕2022-12-06](https://github.com/wang_yb/p/16955924.html)[12.【manim】之圆规动画2023-01-31](https://github.com/wang_yb/p/17079903.html)[13.【manim】之目录动画2023-02-28](https://github.com/wang_yb/p/17163051.html)[14.manim边学边做--DecimalNumber2024-06-12](https://github.com/wang_yb/p/18243662)[15.manim边学边做--Integer2024-06-13](https://github.com/wang_yb/p/18245670)[16.manim边学边做--Variable2024-06-14](https://github.com/wang_yb/p/18248823)[17.manim边学边做--Title2024-06-20](https://github.com/wang_yb/p/18258229)[18.manim边学边做--BulletedList2024-06-21](https://github.com/wang_yb/p/18261017)[19.manim边学边做--SingleStringMathTex2024-06-23](https://github.com/wang_yb/p/18264154)[20.manim边学边做--MathTex2024-06-28](https://github.com/wang_yb/p/18272507)[21.manim边学边做--Tex2024-07-01](https://github.com/wang_yb/p/18278554)[22.manim边学边做--Text2024-07-04](https://github.com/wang_yb/p/18284013)[23.manim边学边做--Paragraph2024-07-09](https://github.com/wang_yb/p/18291657)[24.manim边学边做--MarkupText2024-07-10](https://github.com/wang_yb/p/18294000)[25.manim边学边做--Code2024-07-16](https://github.com/wang_yb/p/18304450)[26.manim边学边做--Matrix2024-07-17](https://github.com/wang_yb/p/18307871)[27.manim边学边做--Table2024-07-25](https://github.com/wang_yb/p/18322456)[28.manim边学边做--点2024-08-09](https://github.com/wang_yb/p/18351279)[29.manim边学边做--圆形类2024-08-15](https://github.com/wang_yb/p/18361469)[30.manim边学边做--圆弧形2024-08-20](https://github.com/wang_yb/p/18368851)[31.manim边学边做--直线类2024-08-22](https://github.com/wang_yb/p/18374417)[32.manim边学边做--带箭头直线2024-09-02](https://github.com/wang_yb/p/18392446)[33.manim边学边做--曲线类2024-09-04](https://github.com/wang_yb/p/18396028)[34.manim边学边做--角度标记2024-09-07](https://github.com/wang_yb/p/18401449)[35.manim边学边做--常用多边形2024-09-10](https://github.com/wang_yb/p/18406455)[36.manim边学边做--通用多边形2024-09-13](https://github.com/wang_yb/p/18411587)[37.manim边学边做--弧形多边形2024-09-15](https://github.com/wang_yb/p/18415355)[38.manim边学边做--空心多边形2024-09-21](https://github.com/wang_yb/p/18423746)[39.manim边学边做--图形间集合关系2024-09-27](https://github.com/wang_yb/p/18435447)[40.manim边学边做--形状匹配2024-10-01](https://github.com/wang_yb/p/18443032)[41.manim边学边做--无向图2024-10-10](https://github.com/wang_yb/p/18456015)[42.manim边做边学--有向图2024-10-12](https://github.com/wang_yb/p/18459887)[43.manim边做边学--数轴2024-10-16](https://github.com/wang_yb/p/18469604)[44.manim边做边学--直角平面2024-10-20](https://github.com/wang_yb/p/18486929)[45.manim边做边学--复数平面2024-10-23](https://github.com/wang_yb/p/18494562)[46.manim边学边做--极坐标平面2024-10-24](https://github.com/wang_yb/p/18498792)[47.manim边学边做--通用二维坐标系2024-10-30](https://github.com/wang_yb/p/18515637)[48.manim边做边学--通用三维坐标系2024-11-01](https://github.com/wang_yb/p/18521033)[49.manim边学边做--三维的点和线2024-11-06](https://github.com/wang_yb/p/18529290)[50.manim边学边做--立方体和棱柱体2024-11-12](https://github.com/wang_yb/p/18541513):[楚门加速器](https://cmnspeed.com)[51.manim边做边学--圆锥2024-11-15](https://github.com/wang_yb/p/18547304)[52.manim边做边学--球体2024-11-18](https://github.com/wang_yb/p/18552084)[53.manim边做边学--圆环面2024-11-21](https://github.com/wang_yb/p/18560991)[54.manim边做边学--圆柱体2024-11-27](https://github.com/wang_yb/p/18573159)[55.manim边做边学--曲面2024-12-02](https://github.com/wang_yb/p/18582943)[56.manim边做边学--多面体2024-12-05](https://github.com/wang_yb/p/18588981)[57.manim边做边学--文字的创建与销毁2024-12-09](https://github.com/wang_yb/p/18594671)[58.manim边做边学--图形的创建与销毁2024-12-11](https://github.com/wang_yb/p/18599230)[59.manim边做边学--淡入淡出2024-12-13](https://github.com/wang_yb/p/18604739)[60.manim边学边做--渐变生长2024-12-17](https://github.com/wang_yb/p/18611481)[61.manim边学边做--突出显示2024-12-18](https://github.com/wang_yb/p/18615301)[62.manim边学边做--旋转2024-12-20](https://github.com/wang_yb/p/18619076)[63.manim边学边做--移动动画2024-12-23](https://github.com/wang_yb/p/18623731)[64.manim边学边做--同伦变换2024-12-25](https://github.com/wang_yb/p/18629168)[65.manim边学边做--改变动画速度2024-12-30](https://github.com/wang_yb/p/18640752)[66.manim边做边学--动画轨迹01-02](https://github.com/wang_yb/p/18647897)[67.manim边做边学--动画组合01-07](https://github.com/wang_yb/p/18657572)[68.manim边做边学--动画更新01-10](https://github.com/wang_yb/p/18663675)[69.manim边做边学--动画联动01-14](https://github.com/wang_yb/p/18670246)[70.manim边做边学--缩放变换01-16](https://github.com/wang_yb/p/18674709)[71.manim边做边学--交替变换01-20](https://github.com/wang_yb/p/18681770)[72.manim边做边学--淡入淡出变换01-22](https://github.com/wang_yb/p/18685569)[73.manim边学边做--时针方向变换01-27](https://github.com/wang_yb/p/18692631)[74.manim边学边做--局部变换02-04](https://github.com/wang_yb/p/18697995)[75.manim边学边做--通用变换02-10](https://github.com/wang_yb/p/18707646)[76.manim边学边做--相机Camera简介02-24](https://github.com/wang_yb/p/18735144)[77.manim边学边做--标准相机02-25](https://github.com/wang_yb/p/18736072)[78.manim边学边做--场景Scene简介03-04](https://github.com/wang_yb/p/18750307)[79.manim边学边做--局部缩放的场景类03-07](https://github.com/wang_yb/p/18758176)[80.manim边学边做--向量相关的场景类03-08](https://github.com/wang_yb/p/18759476)[81.manim边学边做--线性变换的场景类03-10](https://github.com/wang_yb/p/18762039)[82.manim边学边做--移动相机的场景类03-14](https://github.com/wang_yb/p/18772416)[83.Manim实现线条发光效果05-17](https://github.com/wang_yb/p/18880993)[84.Manim：动画制作背后的魔法05-18](https://github.com/wang_yb/p/18881943)[85.manim 动画效果总结05-20](https://github.com/wang_yb/p/18886791)[86.manim变换效果总结05-21](https://github.com/wang_yb/p/18888687)[87.Manim动画渲染：从代码到屏幕的幕后故事05-22](https://github.com/wang_yb/p/18890142)[88.轻松掌握Manim的.animate语法：让动画编程更简单05-25](https://github.com/wang_yb/p/18895359)[89.Manim实现图像变形特效05-29](https://github.com/wang_yb/p/18901822)[90.Manim实现旋转变色特效05-30](https://github.com/wang_yb/p/18903581)[91.manim边做边学--显函数图像06-01](https://github.com/wang_yb/p/18905882)[92.manim边做边学--隐函数图像06-02](https://github.com/wang_yb/p/18907370)[93.manim边做边学--参数化曲线06-04](https://github.com/wang_yb/p/18909497)[94.Manim中三种函数图像类的比较06-05](https://github.com/wang_yb/p/18912045)[95.掌握ChangeSpeed类：让数学动画速度随心而动！06-15](https://github.com/wang_yb/p/18929737)[96.把数学对象画出来：Manim Mobject类库速查手册08-16](https://github.com/wang_yb/p/19042599)[97.Manim实现脉冲闪烁特效09-17](https://github.com/wang_yb/p/19097898)[98.Manim实现闪光轨迹特效09-18](https://github.com/wang_yb/p/19099538)[99.Manim实现水波纹特效09-21](https://github.com/wang_yb/p/19103252)

100.Manim实现阴影特效09-22

收起

本文将详细介绍如何在`Manim`中实现`2D`和`3D`阴影特效，提升动画的视觉层次感和真实感。

# 1. 实现原理

`Manim`中的阴影特效主要通过创建对象副本、调整透明度、应用变换和模糊效果来实现。

下面我们将结合代码详细解析其实现原理。

## 1.1. 3D阴影实现原理

3D阴影效果更加复杂，需要考虑空间感和光影关系。

代码中提供了两种3D阴影实现：基础版`Shadow3D`和增强版`RealisticShadow3D`。

```
class Shadow3D(Animation):
    def __init__(
        self,
        mobject,
        shadow_color=BLACK,
        shadow_opacity=0.3,
        blur_radius=0.1,
        direction=DOWN + RIGHT,
        distance=0.5,
        sharpness=1.0,
        **kwargs
    ):
        # 创建阴影对象
        self.shadow = mobject.copy()
        self.shadow.set_color(shadow_color)
        self.shadow.set_fill(opacity=shadow_opacity)
        self.shadow.set_stroke(opacity=shadow_opacity)
        
        # 设置阴影位置
        shadow_offset = direction * distance
        self.shadow.shift(shadow_offset)
        
        # 使用单个对象和变换创建模糊效果
        self.shadow_blur = None
        if blur_radius > 0:
            self.shadow_blur = self.shadow.copy()
            scale_factor = 1.0 + (1.0 - sharpness) * 0.1
            opacity_factor = 0.5 + (1.0 - sharpness) * 0.3
            self.shadow_blur.scale(scale_factor)
            self.shadow_blur.set_fill(opacity=shadow_opacity * opacity_factor)
            self.shadow_blur.set_stroke(opacity=shadow_opacity * opacity_factor)
        
        # 创建对象组
        if self.shadow_blur:
            self.shadow_group = VGroup(self.shadow_blur, self.shadow, mobject)
        else:
            self.shadow_group = VGroup(self.shadow, mobject)
        
        super().__init__(self.shadow_group, **kwargs)
```

`Shadow3D`类在2D阴影的基础上增加了锐度参数(`sharpness`)和模糊处理，通过调整缩放因子和透明度来模拟不同锐度的阴影效果。

值得**注意**的是，为了优化性能，代码采用了单个对象和变换来创建模糊效果，而不是多个副本，大大减少了渲染开销。

## 1.2. 增强版3D阴影实现

```
class RealisticShadow3D(Animation):
    def __init__(
        self,
        mobject,
        shadow_color=BLACK,
        shadow_opacity=0.4,
        blur_radius=0.2,
        direction=DOWN + RIGHT,
        distance=0.5,
        light_source=3 * UP + 3 * RIGHT + 3 * OUT,
        **kwargs
    ):
        # 存储光源位置
        self.light_source = light_source
        
        # 创建阴影对象和位置设置
        self.shadow = mobject.copy()
        self.shadow.set_color(shadow_color)
        self.shadow.set_fill(opacity=shadow_opacity)
        self.shadow.set_stroke(opacity=shadow_opacity)
        
        shadow_offset = direction * distance
        self.shadow.shift(shadow_offset)
        
        # 模糊效果处理
        self.shadow_blur = None
        if blur_radius > 0:
            self.shadow_blur = self.shadow.copy()
            self.shadow_blur.scale(1.05)  # 轻微放大
            self.shadow_blur.set_fill(opacity=shadow_opacity * 0.7)
            self.shadow_blur.set_stroke(opacity=shadow_opacity * 0.7)
        
        # 创建对象组
        if self.shadow_blur:
            self.shadow_group = VGroup(self.shadow_blur, self.shadow, mobject)
        else:
            self.shadow_group = VGroup(self.shadow, mobject)
        
        super().__init__(self.shadow_group, **kwargs)
```

`RealisticShadow3D`类进一步增强了3D阴影的真实感，主要特点是加入了光源位置参数(`light_source`)，允许用户更精确地控制阴影的投射方向和形状，从而模拟出更真实的光照效果。

# 2. 使用示例

下面我们通过几个具体场景来展示如何使用这些阴影特效。

## 2.1. 3D阴影效果示例

```
class Shadow3DExample(ThreeDScene):
    def construct(self):
        # 创建3D对象
        cube = Cube(side_length=2, fill_opacity=0.8, fill_color=BLUE)
        sphere = Sphere(radius=1, fill_opacity=0.8, fill_color=RED)
        
        # 设置相机位置
        self.set_camera_orientation(phi=75 * DEGREES, theta=-45 * DEGREES)
        
        # 为3D对象添加阴影
        cube_shadow = Shadow3D(
            cube,
            shadow_color=GRAY,
            shadow_opacity=0.4,
            blur_radius=0.1,
            direction=DOWN + RIGHT,
            distance=0.3,
        )
        
        sphere_shadow = Shadow3D(
            sphere,
            shadow_color=GRAY,
            shadow_opacity=0.3,
            blur_radius=0.15,
            direction=DOWN + RIGHT,
            distance=0.4,
        )
        
        # 添加到场景并播放动画
        self.add(cube_shadow.shadow_group)
        self.add(sphere_shadow.shadow_group)
        
        cube.shift(2 * LEFT)
        sphere.shift(2 * RIGHT)
        
        self.play(FadeIn(cube_shadow.shadow_group), FadeIn(sphere_shadow.shadow_group))
        
        # 添加旋转和移动动画
        self.play(
            Rotate(cube_shadow.shadow_group, PI, axis=UP),
            Rotate(sphere_shadow.shadow_group, PI, axis=RIGHT),
            run_time=3,
        )
        
        self.play(
            cube_shadow.shadow_group.animate.shift(UP),
            sphere_shadow.shadow_group.animate.shift(DOWN),
            run_time=2,
        )
        
        self.wait()
```

![](https://img2024.cnblogs.com/blog/83005/202509/83005-20250922153953500-53316553.gif)

这个示例展示了如何在3D场景中使用阴影效果。通过设置相机位置和调整各种参数，可以创建出具有空间感的阴影效果。

代码还演示了如何将阴影效果与其他动画（如旋转和移动）结合使用。

## 2.2. 真实感3D阴影效果示例

```
class RealisticShadow3DExample(ThreeDScene):
    def construct(self):
        # 创建3D对象
        cone = Cone(base_radius=1, height=2, fill_opacity=0.8, fill_color=GREEN)
        cylinder = Cylinder(radius=1, height=2, fill_opacity=0.8, fill_color=YELLOW)
        
        # 设置相机位置
        self.set_camera_orientation(phi=75 * DEGREES, theta=-45 * DEGREES)
        
        # 为对象添加真实感3D阴影
        cone_shadow = RealisticShadow3D(
            cone,
            shadow_color=GRAY,
            shadow_opacity=0.5,
            blur_radius=0.2,
            direction=DOWN + RIGHT,
            distance=0.4,
            light_source=3 * UP + 3 * RIGHT + 3 * OUT,
        )
        
        cylinder_shadow = RealisticShadow3D(
            cylinder,
            shadow_color=GRAY,
            shadow_opacity=0.4,
            blur_radius=0.25,
            direction=DOWN + 0.5 * RIGHT,
            distance=0.5,
            light_source=3 * UP + 2 * LEFT + 2 * OUT,
        )
        
        # 添加到场景并播放动画
        self.add(cone_shadow.shadow_group)
        self.add(cylinder_shadow.shadow_group)
        
        cone.shift(2 * LEFT)
        cylinder.shift(2 * RIGHT)
        
        self.play(
            FadeIn(cone_shadow.shadow_group), FadeIn(cylinder_shadow.shadow_group)
        )
        
        # 添加旋转和移动动画
        self.play(
            Rotate(cone_shadow.shadow_group, PI, axis=UP),
            Rotate(cylinder_shadow.shadow_group, PI, axis=RIGHT),
            run_time=3,
        )
        
        self.play(
            cone_shadow.shadow_group.animate.shift(UP),
            cylinder_shadow.shadow_group.animate.shift(DOWN),
            run_time=2,
        )
        
        self.wait()
```

![](https://img2024.cnblogs.com/blog/83005/202509/83005-20250922153953474-366401753.gif)

这个示例展示了如何使用`RealisticShadow3D`类创建更真实的3D阴影效果。

通过设置不同的光源位置(`light_source`)，可以为不同的3D对象创建符合物理规律的阴影效果。

# 3. 总结

## 3.1. 阴影特效的特点

1. **多层次实现**：提供了从简单到复杂的多种阴影实现方式，适应不同场景需求。
2. **参数化控制**：所有阴影效果都提供了丰富的参数，如颜色、透明度、模糊半径、方向、距离等，方便精细调整。
3. **性能优化**：通过使用单个对象和变换来创建模糊效果，而不是多个副本，大大提高了渲染效率。
4. **3D支持**：专门提供了3D阴影实现，支持在3D场景中创建具有空间感的阴影效果。
5. **真实感增强**：增强版的`RealisticShadow3D`类考虑了光源位置，能够创建更符合物理规律的阴影效果。

## 3.2. 使用场景

1. **数学可视化**：为几何图形添加阴影，增强视觉层次感，帮助观众更好地理解空间关系。
2. **文字动画**：为标题和重点文字添加阴影效果，提高视觉冲击力。
3. **图表展示**：为数据图表添加阴影，增强立体感和可读性。
4. **物理演示**：模拟真实世界的光照和阴影效果，用于物理概念的讲解。
5. **艺术创作**：利用多层阴影和不同参数组合，创建独特的艺术效果。

通过本文介绍的阴影特效实现方法，您可以为`Manim`动画添加更加生动、立体的视觉效果，提升动画的专业度和观赏性。

无论是教学演示、学术报告还是艺术创作，这些阴影特效都能为您的作品增添亮点。
